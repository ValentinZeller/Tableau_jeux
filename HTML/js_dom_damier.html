<!DOCTYPE html>
<html>
  <!-- En-tête spécification -->
  <head>
    <!-- Gestion des caractères -->
    <meta charset="utf-8">
    <!-- Titre de la page -->
    <title>Damier</title>
    <!-- Icone onglet  -->
    <link rel="shortcut icon" type="image/x-icon" href="../contenu/images/zenyatta.png"/>
    <!-- Appel du css depuis un fichier externe-->
    <link rel="stylesheet" href="../CSS/formulaire_style.css" type="text/css" />
    <style>
        /* Méthode avec tableau */
        table {
            border: 1px solid black;
            border-collapse: collapse; /* Enlève les espaces */
        }

        label {
          color : #3342ad;
        }

        td { /* taille d'une celle */
            width: 20px;
            height: 20px;
        }

        input {
          display : block;
          margin-bottom: 4px;
        }
    </style>
  </head>
  <body onload="">
    <!-- En-tête identification -->
    <header><a href="#"></a></header>
    <h2>Damier en JS</h2>
    <label for="width">Largeur :</label>
    <input type="number" name="width" id="width"></input>
    <label for="width">Hauteur :</label>
    <input type="number" name="height" id="height"></input>
    <label for="width">Couleur 1 :</label>
    <input type="color" name="color1" id="color1" value="#ffffff"></input>
    <label for="width">Couleur 2 :</label>
    <input type="color" name="color2" id="color2" value="#000000"></input>
    <button id="btnDamier">Créer un damier</button>
    <div id="damier"></div>
    <script type="text/javascript">
        btn = document.getElementById("btnDamier");
        btn.addEventListener("click",damier);

        function damier() {
            width = document.getElementById("width").value;
            height = document.getElementById("height").value;

            color1 = document.getElementById("color1").value;
            color2 = document.getElementById("color2").value;

            tableExist = document.getElementById("table");
            damier = document.getElementById("damier")
            if (tableExist) {
                damier.removeChild(tableExist);
            }

            table = document.createElement("table");
            table.setAttribute("id","table");
            for (i=0;i< height;i++) { /* Création des lignes */
              let tr = document.createElement("tr");
              for (j=0;j< width;j++) { /* Création des cellules */
                  let td = document.createElement("td");
                  if ((i+j) %2 != 0) { /* Colonne paire */
                    td.style.backgroundColor = color2;
                  } else {
                    td.style.backgroundColor = color1;
                  }
                  tr.appendChild(td);
              }
              table.appendChild(tr);   
            }
            damier.appendChild(table);
        }
  
      </script>
    <!-- Pied de page -->
    <footer>
      <h3>Contact :</h3>
      <ul>
        <li><a href="mailto:v.zeller@ludus-academie.com" title="Mail">Me contacter par mail</a></li>
        <li>06.18.93.91.06</li>
      </ul>
    </footer>
  </body>
</html>
